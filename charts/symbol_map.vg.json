{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Temperature in Australia (2023)",
  "width": "container",
  "height": 300,
  "projection": {"type": "mercator"},

"params": [
    {
      "name": "Month_Select",
      "value": 1,
      "bind": {
        "input": "select",
        "options": [
            1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12
          ],
          "labels": [
            "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
          ],
        "name": "Month:   "
      }
    },


    {"name": "Country_selection",
        "bind": {
          "input": "select",
          "options": [
            null,
            "Queensland",
            "New South Wales",
            "South Australia",
            "Victoria",
            "Northern Territory",
            "Tasmania", 
            "Western Australia",
            "Australian Capital Territory"
          ],
          "labels": [
            "Show All",
            "Queensland",
            "New South Wales",
            "South Australia",
            "Victoria",
            "Northern Territory",
            "Tasmania", 
            "Western Australia",
            "Australian Capital Territory"
          ],
          "name": "Select State:   "
        }
        }

  ],

  
  "layer": [
    
    {
      "data": {
        "url": "data/australian_borders5.json",
        "format": {"type": "topojson", "feature": "STE_2016_AUST"}
      },
      
      "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
    },

    
    {
      "data": {
        "url": "data/australian_borders5.json",
        "format": {"type": "topojson", "feature": "ne_110m_ocean"}
      },
      "mark": {
        "type": "geoshape",
        "fill": "lightblue",
        "stroke": "white"
      }
    },

    {
      "data": {"url": "data/suburb_weather_monthly_avg_2023.csv"},

      "transform": [
        {"filter": "datum.Month == null || datum.Month == Month_Select"},
        {"filter": "Country_selection == null || datum.OfficialNameState == Country_selection"}
      ],

      "mark": {
        "type": "circle",
        "fillOpacity": 0.1,
        "opacity": 0.7,
        "strokeWidth": 0.5
      },
      "encoding": {
        "longitude": {"field": "Longitude", "type": "quantitative"},
        "latitude": {"field": "Latitude", "type": "quantitative"},
        "size": {
          "field": "RelativeHumidityMean",
          "type": "quantitative",
          "title": "Average Humidity",
          "scale": {"range": [3, 70]}
        },
        "color": {
          "field": "TemperatureMean",
          "type": "quantitative",
          "title": "Average Temperature (°C)",
          "scale": {
            "range": ["green", "yellow", "red"]
          }
        },
        "tooltip": [
          {
            "field": "OfficialNameSuburb",
            "type": "nominal",
            "title": "Suburb"
          },
          {
            "field": "OfficialNameState",
            "type": "nominal",
            "title": "State"
          },
          {
            "field": "TemperatureMean",
            "type": "quantitative",
            "title": "Avg Temp (°C)",
            "format": ".2f"
          },
          {
            "field": "RainSum",
            "type": "quantitative",
            "title": "Total Rainfall (mm)",
            "format": ".2f"
          },
          {
            "field": "RelativeHumidityMean",
            "type": "quantitative",
            "title": "Avg Humidity (%)",
            "format": ".2f"
          }
        ]
      }
    }
    
  ]
}
